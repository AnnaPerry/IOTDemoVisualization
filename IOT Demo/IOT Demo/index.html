<!DOCTYPE html>
<html>
<head>
    <title>IoT Demo - OSIsoft</title>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
    <meta charset="utf-8" />
    <link href="Content/bootstrap.css" rel="stylesheet" />
    <link href="Content/font-awesome.css" rel="stylesheet" />
    <link href="App/app.css" rel="stylesheet" />
</head>
<body ng-app="iotdemoApp">

	<!-- Load jquery first -->
    <script type="text/javascript" src="Scripts/jquery-3.1.1.min.js"></script>
	
    <!-- Navigation bar -->
    <div class="container-fluid" id="mainNavbarContainer">
        <nav class="navbar navbar-inverse fixed-top bg-inverse" style="background-color:#091d3a !important;display:inline !important;padding-bottom:13px;text-align:center;height:44px;font-size:16px;color:white">
            
			<ul class="nav navbar-nav navbar-toggler-left" style="display:inline;">
				<li class="nav-item" style="display:inline">
					<a class="btn btn-primary btn-sm" style="display:inline;background-color:#091d3a" ui-sref="home"><span class="fa fa-bullseye" style="margin-right:4px"></span>Asset Dashboard</a>
				</li>
			</ul>
			
			<i id="loadingSpinner" class="fa fa-spinner fa-spin fa-fw" style="margin-left:10px;"></i>
			
			<ul class="nav navbar-nav navbar-toggler-right" style="display:inline;padding-right:0px;">
				<li class="nav-item" style="display:inline">
					<a class="btn btn-primary btn-sm" style=";background-color:#091d3a" href="/#/gettingstarted"><span class="fa fa-question-circle-o" style="margin-right:4px"></span>Getting Started</a>
				</li>
			</ul>
			
        </nav>
    </div>

    <!-- Main container -->
    <div class="container maincontainer" ui-view style="padding-top:50px !important;padding-left: 0px !important;padding-right: 0px !important;padding-bottom: 0px !important"></div>

    <!-- Pop-up modal notification box (normally hidden) -->
    <div class="modal fade" id="compatibilityCheckModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="background-color:pink">
                    <h4 class="modal-title">Device and Browser Compatibility</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
					<div id="compatibilityCheckModalBodyText">
						Your device and/or browser does not fully support gathering device-level proximity sensor, light sensor, accelerometer, and/or gyro data (to perform a sensor health check, click <b><a href="" onclick="$('#sensorValuesModal').modal()">here</a></b>).  Simulated sensor values will be generated where needed to mimic a compatible device.
					</div>
					<br/>
					<div>
						<p><b>NOTE:</b> this app was designed to be viewed in the Firefox web browser.  To download and install the Firefox web browser, click <b><a href="https://www.mozilla.org/en-US/firefox/new/?scene=2">here</a></b>. After installing Firefox on your mobile device, re-launch this web application within the Firefox web browser.</p>
						<p><b>Other data sources that are connected to the IoT gateway (such as WISE and Phidgets units) will still continue to work as expected.</b></p>
					</div>	
				</div>			
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Pop-up modal notification box (normally hidden) -->
    <div class="modal fade" id="sensorValuesModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="background-color:lightblue">
                    <h4 class="modal-title">Sensor Health Check</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body" id="sensorValuesModalBodyText"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
	
    <!-- Pop-up modal notification box for error messages (normally hidden) -->
    <div class="modal fade" id="errorMessageModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="background-color:pink">
                    <h4 class="modal-title">Error</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body" id="errorMessageModalBodyText"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Pop-up modal notification box (normally hidden) -->
    <div class="modal fade" id="fullScreenModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="background-color:yellow">
                    <h4 class="modal-title">Full-screen Check</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    This app was designed to run in full-screen mode.  Click <b><a href="" onclick="turnOnFullScreen()">here</a></b> to turn on full-screen mode.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Pop-up modal notification box for orientation messages (normally hidden) -->
    <div class="modal fade" id="orientationMessageModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="background-color:orange">
                    <h4 class="modal-title">Orientation Check!</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body" id="">
					This app was designed to be viewed in landscape (horizontal) orientation; please rotate your device 90 degrees into landscape mode--and then refresh this web page--to ensure the best experience.
				</div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>		
	
    <!-- Load general-purpose bootstrap and other helper libraries -->
    <script type="text/javascript" src="Scripts/angular.js"></script>
    <script type="text/javascript" src="Scripts/angular-ui-router.js"></script>    
    <script type="text/javascript" src="Scripts/tether.js"></script>
    <script type="text/javascript" src="Scripts/bootstrap.js"></script>
    <script type="text/javascript" src="Scripts/angular-sanitize.js"></script>
    <script type="text/javascript" src="Scripts/underscore-min.js"></script>
    <!-- Load scripts needed to render the chart -->
    <script src="amcharts/amcharts.js"></script>
    <script src="amcharts/serial.js"></script>
    <script src="amcharts/gauge.js"></script>
    <!-- Load custom scripts used by different controllers and services -->
    <script src="App/app.js"></script>
    <script src="App/Views/mainController.js"></script>
    <script src="App/Views/assetsController.js"></script>
    <script src="App/Views/chartAndTableWrapperController.js"></script>
    <script src="App/Views/tableController.js"></script>
    <script src="App/Views/chartController.js"></script>
	<script src="App/Views/gaugesController.js"></script>
	<script src="App/Views/gettingStartedController.js"></script>
    <script src="App/Services/dataService.js"></script>

	<!-- Load needed scripts -->
	<script>
		// Check for portrait mode!
		if (window.innerWidth < window.innerHeight) {
			// In this case, since the screen is taller than it is wide, then show the warning modal!
			$("#orientationMessageModal").modal();
		} else {
			// In this case, you're in landscape mode--so you're alright!
		}	
		// Show the full screen modal message!
		$("#fullScreenModal").modal();		
		// Allow making the window fullscreen!
		// See https://developers.google.com/web/fundamentals/native-hardware/fullscreen/
		function turnOnFullScreen() {
			console.log("Turning on full screen mode...");
			var docElm = document.documentElement;
			if (docElm.requestFullscreen) {
				docElm.requestFullscreen();
			}
			else if (docElm.mozRequestFullScreen) {
				docElm.mozRequestFullScreen();
			}
			else if (docElm.webkitRequestFullScreen) {
				docElm.webkitRequestFullScreen();
			}
			else if (docElm.msRequestFullscreen) {
				docElm.msRequestFullscreen();
			}
		}
	</script>
</body>
</html>
